<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò—Å–ø—ã—Ç–∞–Ω–∏–µ –ø–∞–º—è—Ç—å—é</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .quiz-card {
            position: relative;
            overflow: visible !important;
            padding: 30px;
        }
        
        .quiz-container {
            min-height: 450px;
            position: relative;
        }
        
        .no-btn {
            position: relative;
            cursor: pointer;
            transition: all 0.15s ease;
        }
        
        .no-btn.running {
            position: absolute;
            z-index: 999;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 20px;
        }
        
        .nav-btn {
            background: #ffcdd2;
            border: none;
            padding: 15px 30px;
            border-radius: 60px;
            font-size: 18px;
            font-weight: 600;
            color: #b71c1c;
            cursor: pointer;
            transition: 0.3s;
            border: 2px solid white;
            flex: 1;
        }
        
        .nav-btn:hover:not(:disabled) {
            background: #d32f2f;
            color: white;
            transform: scale(1.05);
        }
        
        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: none;
        }
        
        .results-btn {
            background: #d32f2f;
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 60px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: 0.3s;
            border: 3px solid white;
            box-shadow: 0 8px 0 #8b1e1e;
            flex: 2;
            letter-spacing: 2px;
        }
        
        .results-btn:hover:not(:disabled) {
            transform: translateY(4px);
            box-shadow: 0 4px 0 #8b1e1e;
            background: #b71c1c;
        }
        
        .results-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 8px 0 #8b1e1e;
        }
        
        .question-counter {
            text-align: center;
            margin-bottom: 20px;
            font-size: 18px;
            color: #6d4c41;
            font-weight: 600;
        }
        
        .quiz-btn {
            margin: 15px 0;
            transition: all 0.3s ease;
        }
        
        .quiz-btn.correct {
            background: #4caf50 !important;
            color: white !important;
            border: 3px solid #ffeb3b !important;
        }
        
        .quiz-btn.incorrect {
            background: #f44336 !important;
            color: white !important;
            opacity: 0.9;
        }
        
        .comment-box {
            margin-top: 30px;
            padding: 25px;
            background: #fff8e1;
            border-radius: 24px;
            border-left: 10px solid #d32f2f;
            font-size: 18px;
            color: #3e2723;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-message {
            min-height: 80px;
        }
        
        .progress-indicator {
            margin-top: 20px;
            padding: 15px;
            background: #ffebee;
            border-radius: 40px;
            font-size: 16px;
            color: #b71c1c;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="nav">
        <a href="index.html">üè† –í—Å—Ç—Ä–µ—á–∞</a>
        <a href="quiz.html">üß† –ò—Å–ø—ã—Ç–∞–Ω–∏–µ</a>
        <a href="music.html" class="active">üéµ –í–æ–ª–Ω–∞</a>
        <a href="wheel.html">üé° –§–æ—Ä—Ç—É–Ω–∞</a>
        <a href="code.html">üíª –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥</a>
    </div>

    <div class="container">
        <h2>üìù –ù–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ —Ç—ã –ø–æ–º–Ω–∏—à—å –Ω–∞—Å?</h2>
        <div id="quiz-container" class="quiz-container"></div>
        <div id="result" class="result-message"></div>
    </div>

    <script>
        const questions = [
            {
                question: "–ò —Ç–∞–∫, –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å, –∫–æ–≥–¥–∞ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å?",
                options: ["14 –∏—é–ª—è 2023", "14 –∏—é–Ω—è 2023", "12 –∏—é–Ω—è 2023"],
                answer: 1,
                comment: "–ú—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å 14 –∏—é–Ω—è 2023 –≥–æ–¥–∞, —Å–∞–º—ã–π –ª—É—á—à–∏–π –¥–µ–Ω—å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–µ–Ω—è–ª –Ω–∞—à—É —Å —Ç–æ–±–æ–π –∂–∏–∑–Ω—å."
            },
            {
                question: "–ö–æ–≥–¥–∞ –º—ã –Ω–∞—á–∞–ª–∏ –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è?",
                options: ["14 –º–∞—è 2024", "16 –º–∞—è 2024", "–¢–∞ –¥–∞–≤–Ω–æ"],
                answer: 0,
                comment: "–ö–æ–Ω–µ—á–Ω–æ –∂–µ 14 –º–∞—è 2024, –ø–æ—Å–ª–µ –º–æ–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è '–û—Ñ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–∞—Ä–∞?'"
            },
            {
                question: "–ß–µ–º –º—ã –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ª—é–±–∏–º –∑–∞–Ω–∏–º–∞—Ç—å—Å—è?",
                options: ["–ò–≥—Ä–∞—Ç—å", "–°–ø–ª–µ—Ç–Ω–∏—á–∞—Ç—å", "–°–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ-—Ç–æ"],
                answer: 1,
                comment: "–ö–æ–Ω–µ—á–Ω–æ –∂–µ —Å–ø–ª–µ—Ç–Ω–∏—á–∞—Ç—å, –º—ã –∂ –¥–≤–µ –∫—Ä—ã—Å–∫–∏."
            },
            {
                question: "–ß—Ç–æ –º—ã –æ–±–∞ –Ω–µ–Ω–∞–≤–∏–¥–∏–º?",
                options: ["–û—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è", "–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ", "–°—Å–æ—Ä—ã"],
                answer: 1,
                comment: "–ö–∞–∫ –ø–æ –º–Ω–µ, –º—ã –æ–±–∞ –Ω–µ–Ω–∞–≤–∏–¥–∏–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ."
            },
            {
                question: "–ß—Ç–æ –ø–µ—Ä–≤–æ–µ –º—ã –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∏ –æ–±–∞?(–µ—Å—Ç—å –ø–æ–¥–≤–æ—Ö)",
                options: ["–ö–ª–∏–Ω–æ–∫ —Ä–∞—Å—Å–µ–∫–∞—é—â–∏—Ö –¥–µ–º–æ–Ω–æ–≤", "–°–º–µ—à–Ω–æ–µ –≤–∏–¥–µ–æ", "–ü–æ–¥–Ω—è—Ç–∏–µ —É—Ä–æ–≤–Ω—è –≤ –æ–¥–∏–Ω–æ—á–∫—É"],
                answer: 0,
                comment: "–ö–ª–∏–Ω–æ–∫, —è –µ—â—ë –ø–æ–º–Ω—é, –∫–∞–∫ —Ç—ã –º–Ω–µ –Ω–∞—Ä–∏—Å–æ–≤–∞–ª–∞ –ó–µ–Ω–∏—Ü—É."
            },
            {
                question: "–ö–∞–∫ —è —Ç–µ–±—è —á–∞—â–µ –≤—Å–µ–≥–æ –Ω–∞–∑—ã–≤–∞—é?",
                options: ["–î—É—Ä–∞—à–∫–∞", "–í–µ–¥—å–º–æ—á–∫–∞ —Ç—ã –∂–æ–ø–∞—Å—Ç–∞—è", "–ö—Ä—ã—Å–∫–∞ —Ç—ã –º–æ—è"],
                answer: 0,
                comment: "–î—É—Ä–∞—à–∫–∞, —Ç–∞–∫ –∫–∞–∫ –∑–≤—É—á–∏—Ç –∫–∞–∫-—Ç–æ —Ä–æ–¥–Ω–µ–µ."
            },
            {
                question: "–ö—Ç–æ –ø–µ—Ä–≤—ã–π —Å–∫–∞–∑–∞–ª '–ª—é–±–ª—é —Ç–µ–±—è'?",
                options: ["–Ø", "–¢—ã", "–ö–æ—Ç"],
                answer: 1,
                comment: "–¢—ã. –õ—é–±–ª—é —Ç–µ–±—è, –±—Ä–∞—Ç–∏–∫. –ò —è —Ç–µ–±—è –ª—é–±–ª—é, —Å–µ—Å—Ç—Ä–∏—á–∫–∞."
            },
            {
                question: "–ß—Ç–æ –º—ã —Ö–æ—Ç–∏–º –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å?",
                options: ["–î—Ä—É–≥ –¥—Ä—É–≥–∞", "–ü–∏—Ü—Ü—É", "–ß–∞–π"],
                answer: 1,
                comment: "–•–æ—Ç–µ–ª–æ—Å—å –±—ã –ø–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –Ω–æ –Ω–∞—á–Ω—ë–º —Å –ø–∏—Ü—Ü—ã, —Ö–∞—Ö."
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –∫–æ—Ç–æ–≤ –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –∑–∞–≤–æ–¥–∏—Ç—å?",
                options: ["0", "1", "2", "3", "4", "‚àû"],
                answer: 5,
                comment: "–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å. –ù–æ –µ—Å–ª–∏ —Å–µ—Ä—å—ë–∑–Ω–æ ‚Äî 2 –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ."
            },
            {
                question: "–ò —Ç–∞–∫, —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å, —Ç—ã –º–µ–Ω—è –ª—é–±–∏—à—å?",
                options: ["–î–ê", "–ù–ï–¢"],
                answer: 0,
                comment: "–Ø –∑–Ω–∞–ª, —á—Ç–æ —Ç—ã —Å–∫–∞–∂–µ—à—å –î–ê ‚ù§Ô∏è"
            }
        ];

        let currentQuestion = 0;
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç—ã –ò –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
        let userAnswers = new Array(questions.length).fill(null);
        let userComments = new Array(questions.length).fill(null);
        let answerStatus = new Array(questions.length).fill(null);
        
        let noBtn = null;

        function checkAllAnswered() {
            return userAnswers.every(ans => ans !== null);
        }

        function loadQuestion() {
            const q = questions[currentQuestion];
            const savedAnswer = userAnswers[currentQuestion];
            const savedComment = userComments[currentQuestion];
            
            let html = `<div class="question-counter">–í–æ–ø—Ä–æ—Å ${currentQuestion + 1} –∏–∑ ${questions.length}</div>`;
            html += `<div class="quiz-card">
                <h3>${currentQuestion + 1}. ${q.question}</h3>`;
            
            // –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–ø—Ä–æ—Å ‚Äî –æ—Å–æ–±–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
            if (currentQuestion === questions.length - 1) {
                const daSelected = savedAnswer === 0;
                const noSelected = savedAnswer === 1;
                
                html += `<button class="quiz-btn ${daSelected ? 'correct' : ''}" onclick="checkAnswer(0)" ${savedAnswer !== null ? 'disabled' : ''}>${q.options[0]}</button>`;
                html += `<button id="noButton" class="quiz-btn no-btn ${noSelected ? 'incorrect' : ''}" onclick="dodgeNoButton()" ${savedAnswer !== null ? 'disabled' : ''}>${q.options[1]}</button>`;
            } else {
                q.options.forEach((opt, index) => {
                    const isSelected = savedAnswer === index;
                    let btnClass = '';
                    if (isSelected) {
                        btnClass = index === q.answer ? 'correct' : 'incorrect';
                    }
                    html += `<button class="quiz-btn ${btnClass}" onclick="checkAnswer(${index})" ${savedAnswer !== null ? 'disabled' : ''}>${opt}</button>`;
                });
            }
            
            // –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            html += `<div class="nav-buttons">`;
            
            // –ö–Ω–æ–ø–∫–∞ –ù–ê–ó–ê–î (–≤—Å–µ–≥–¥–∞)
            html += `<button class="nav-btn" onclick="prevQuestion()" ${currentQuestion === 0 ? 'disabled' : ''}>‚óÄ –ù–∞–∑–∞–¥</button>`;
            
            // –ö–Ω–æ–ø–∫–∞ –í–ü–ï–†–Å–î (–ø–µ—Ä–≤—ã–µ 9 –≤–æ–ø—Ä–æ—Å–æ–≤)
            if (currentQuestion < questions.length - 1) {
                html += `<button class="nav-btn" onclick="nextQuestion()">–í–ø–µ—Ä—ë–¥ ‚ñ∂</button>`;
            } 
            // –ö–Ω–æ–ø–∫–∞ –ö –†–ï–ó–£–õ–¨–¢–ê–¢–ê–ú (—Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –≤–æ–ø—Ä–æ—Å–µ)
            else {
                const allAnswered = checkAllAnswered();
                html += `<button class="results-btn" onclick="showFinalResults()" ${!allAnswered ? 'disabled' : ''}>üèÜ –ö –†–ï–ó–£–õ–¨–¢–ê–¢–ê–ú</button>`;
            }
            
            html += `</div>`;
            
            // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–Ω–∞ –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö)
            const answeredCount = userAnswers.filter(a => a !== null).length;
            html += `<div class="progress-indicator">‚úÖ –û—Ç–≤–µ—á–µ–Ω–æ: ${answeredCount}/${questions.length}</div>`;
            
            html += `</div>`;
            
            document.getElementById('quiz-container').innerHTML = html;
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ–≥–æ
            if (savedComment) {
                document.getElementById('result').innerHTML = `<div class="comment-box">${savedComment}</div>`;
            } else {
                document.getElementById('result').innerHTML = '';
            }
            
            // –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç –µ—â—ë –Ω–µ –¥–∞–Ω ‚Äî –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –ù–ï–¢
            if (currentQuestion === questions.length - 1 && userAnswers[currentQuestion] === null) {
                noBtn = document.getElementById('noButton');
                if (noBtn) {
                    noBtn.style.position = 'relative';
                    noBtn.style.left = '0';
                    noBtn.style.top = '0';
                }
            }
        }

        // –£–±–µ–≥–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ ‚Äî –¢–û–õ–¨–ö–û –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
        function dodgeNoButton() {
            if (!noBtn) return;
            if (userAnswers[currentQuestion] !== null) return;
            
            const container = document.querySelector('.quiz-card');
            const containerRect = container.getBoundingClientRect();
            const btnRect = noBtn.getBoundingClientRect();
            
            const maxX = containerRect.width - btnRect.width - 20;
            const maxY = containerRect.height - btnRect.height - 20;
            
            let x = Math.random() * Math.max(10, maxX);
            let y = Math.random() * Math.max(10, maxY);
            
            noBtn.style.position = 'absolute';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
            noBtn.classList.add('running');
            
            const messages = [
                "üòà –ù–µ-–∞",
                "ü§≠ –ù–µ –ø–æ–ª—É—á–∏—Ç—Å—è",
                "üòò –¢–æ–ª—å–∫–æ –î–ê",
                "üíï –î–∞–≤–∞–π –µ—â—ë —Ä–∞–∑–æ–∫",
                "‚ú® –ù–µ —Ç—É–¥–∞",
                "üéØ –ü—Ä–æ–º–∞—Ö",
                "‚ù§Ô∏è –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë",
                "üòè –ù–µ –≤—ã–π–¥–µ—Ç"
            ];
            
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];
            document.getElementById('result').innerHTML = `<span style="color: #d32f2f; font-size: 24px;">${randomMsg}</span>`;
            
            setTimeout(() => {
                if (userComments[currentQuestion]) {
                    document.getElementById('result').innerHTML = `<div class="comment-box">${userComments[currentQuestion]}</div>`;
                } else {
                    document.getElementById('result').innerHTML = '';
                }
            }, 800);
        }

        function checkAnswer(selected) {
            if (userAnswers[currentQuestion] !== null) return;
            
            const q = questions[currentQuestion];
            
            // –î–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ ‚Äî —Ç–æ–ª—å–∫–æ –î–ê
            if (currentQuestion === questions.length - 1) {
                if (selected === 0) {
                    userAnswers[currentQuestion] = selected;
                    
                    const commentHTML = `‚úÖ –î–ê! ‚ù§Ô∏è<br><span class="comment">${q.comment}</span>`;
                    userComments[currentQuestion] = commentHTML;
                    answerStatus[currentQuestion] = 'da';
                    
                    const btns = document.querySelectorAll('.quiz-btn');
                    btns.forEach(btn => {
                        if (btn.textContent.includes('–î–ê')) {
                            btn.classList.add('correct');
                        }
                    });
                    
                    document.getElementById('result').innerHTML = `<div class="comment-box">${commentHTML}</div>`;
                    btns.forEach(btn => btn.disabled = true);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                    loadQuestion();
                }
                return;
            }
            
            // –û–±—ã—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
            userAnswers[currentQuestion] = selected;
            
            const isCorrect = selected === q.answer;
            answerStatus[currentQuestion] = isCorrect ? 'correct' : 'incorrect';
            
            const statusIcon = isCorrect ? '‚úÖ –î–∞!' : '‚ùå –ù–µ—Ç';
            const commentHTML = `${statusIcon}<br><span class="comment">${q.comment}</span>`;
            userComments[currentQuestion] = commentHTML;
            
            const btns = document.querySelectorAll('.quiz-btn');
            btns.forEach((btn, index) => {
                if (index === selected) {
                    btn.classList.add(isCorrect ? 'correct' : 'incorrect');
                }
            });
            
            document.getElementById('result').innerHTML = `<div class="comment-box">${commentHTML}</div>`;
            btns.forEach(btn => btn.disabled = true);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            loadQuestion();
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            }
        }

        function showFinalResults() {
            let score = 0;
            questions.forEach((q, index) => {
                if (userAnswers[index] === q.answer) {
                    score++;
                }
            });
            
            document.getElementById('quiz-container').innerHTML = `
                <div class="quiz-result" style="text-align: center; padding: 40px;">
                    <h2 style="font-size: 36px; color: #d32f2f;">üéâ –¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score}/${questions.length}</h2>
                    <p style="font-size: 24px; margin: 30px 0;">
                        ${score === questions.length ? "üåü –ò–¥–µ–∞–ª—å–Ω–æ! –¢—ã –ø–æ–º–Ω–∏—à—å –Ω–∞—Å –ª—É—á—à–µ –º–µ–Ω—è!" : 
                          score >= 8 ? "üíï –û—á–µ–Ω—å –±–ª–∏–∑–∫–æ! –Ø —Ü–µ–Ω—é —Ç–≤–æ—é –ø–∞–º—è—Ç—å." : 
                          "üòä –ì–ª–∞–≤–Ω–æ–µ ‚Äî —Ç—ã –ø–æ–º–Ω–∏—à—å –≥–ª–∞–≤–Ω–æ–µ. –ê –≥–ª–∞–≤–Ω–æ–µ ‚Äî —ç—Ç–æ –º—ã."}
                    </p>
                    <a href="wheel.html" class="next-link" style="display: inline-block; margin-top: 30px; padding: 18px 50px; background: #d32f2f; color: white; text-decoration: none; border-radius: 60px; font-size: 22px; font-weight: 700;">üé° –ö –∫–æ–ª–µ—Å—É —Ñ–æ—Ä—Ç—É–Ω—ã</a>
                </div>
            `;
            document.getElementById('result').innerHTML = '';
        }

        window.onload = function() {
            loadQuestion();
        };
    </script>
</body>
</html>